<!DOCTYPE html>
<head>
    <title>Multiplicación en Bucle</title>
</head>
<body>
    <script>
        const getValidNumber = promptText => {
            let number;
            while (isNaN(number = parseFloat(prompt(promptText)))) {
                alert("Por favor, introduce un número válido.");
            }
            return number;
        };

        /*
        In this scenario, a loop might be more efficient,
        but I wanted to try both methods (recursion and loop).
        I've implemented a recursion depth limit to avoid stack overflow,
        Once the limit is reached, I use a loop as a fallback to ensure
        the program continues to run smoothly.
        */

        const multiplicarRecur = (depth = 0, maxDepth = 1000) => {
            if (depth >= maxDepth) {
                return multiplicarLoop();
            }

            let num1 = getValidNumber("Introduce el primer número:");
            let num2 = getValidNumber("Introduce el segundo número:");

            let resultado = num1 * num2;
            alert(`El resultado de ${num1} * ${num2} es ${resultado}`);

            return multiplicarRecur(depth + 1, maxDepth);
        };

        const multiplicarLoop = () => {
            while (true) {
                let num1 = getValidNumber("Introduce el primer número:");
                let num2 = getValidNumber("Introduce el segundo número:");

                let resultado = num1 * num2;
                alert(`El resultado de ${num1} * ${num2} es ${resultado}`);
            }
        };
        multiplicarRecur();
    </script>
</body>